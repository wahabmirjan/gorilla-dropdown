/**
 * gorilla-dropdown
 * Description - A jQuery plugin for custom drop-down list, allowing the display of text, images, and maybe more...
 * @version v0.0.1
 * @link https://github.com/wahabmirjan/gorilla-dropdown#readme
 * @license MIT
 */
!function(o){var t={init:function(t){var i=o.extend({arrowColor:"#808080",arrowDown:"&#x25bc;",arrowSize:14,arrowUp:"&#x25b2;",backgroundColor:"#ffffff",borderColor:"#c0c0c0",borderWidth:1,descriptionFontColor:"#000000",descriptionFontFamily:"Verdana",descriptionFontSize:12,descriptionFontStyle:"normal",descriptionFontVariant:"small-caps",descriptionFontWeight:"normal",hoverColor:"#f0f8ff",imageLocation:"left",padding:10,placeholder:"Select",placeholderFontColor:"#808080",placeholderFontFamily:"Verdana",placeholderFontSize:14,placeholderFontStyle:"italic",placeholderFontVariant:"normal",placeholderFontWeight:"bold",textFontColor:"#000000",textFontFamily:"Verdana",textFontSize:14,textFontStyle:"normal",textFontVariant:"normal",textFontWeight:"bold",width:300},t);if(this.is("select"))return this.each(function(){var t=o("<div>");o.each(this.attributes,function(i,r){o(t).attr(r.name,r.value)}),o(t).addClass("gorilla-dropdown");var r=o("<div>",{class:"container",css:{width:i.width+"px"}});o(t).append(r);var e=o("<div>",{class:"current",css:{"background-color":i.backgroundColor,"border-color":i.borderColor,"border-width":i.borderWidth+"px",padding:i.padding+"px"}}),n=o("<div>",{class:"content",text:i.placeholder,css:{color:i.placeholderFontColor,"font-family":i.placeholderFontFamily,"font-size":i.placeholderFontSize,"font-style":i.placeholderFontStyle,"font-variant":i.placeholderFontVariant,"font-weight":i.placeholderFontWeight}});o(e).append(n);var a=o("<span>",{class:"arrow",css:{color:i.arrowColor,"font-size":i.arrowSize+"px",position:"absolute",right:i.borderWidth+i.padding+"px",top:i.borderWidth+i.padding+"px"}});o(a).html(i.arrowDown),o(e).append(a),o(r).append(e);var d=o("<ul>",{class:"ddlist"});o(this).find("option").each(function(){var t=o("<li>",{class:"dditem",css:{"background-color":i.backgroundColor,"border-color":i.borderColor,"border-width":i.borderWidth+"px",padding:i.padding+"px"}}),r=o(this).data("imgsrc");if(void 0!=r){var e=o("<div>",{css:{float:i.imageLocation,"margin-right":"left"==i.imageLocation?i.padding/2+"px":0,"margin-left":"right"==i.imageLocation?i.padding/2+"px":0}}),n=o("<img>",{class:"image",imgsrc:r});o(e).append(n),o(t).append(e),o(this).removeAttr("data-imgsrc")}var a=o(this).html().trim(),l=o(this).data("description");if(""!=a||void 0!=l){var s=o("<div>",{css:{float:"left","margin-left":"left"==i.imageLocation?i.padding/2+"px":0,"margin-right":"right"==i.imageLocation?i.padding/2+"px":0}});if(""!=a){var c=o("<div>",{class:"text",text:a,css:{color:i.textFontColor,"font-family":i.textFontFamily,"font-size":i.textFontSize,"font-style":i.textFontStyle,"font-variant":i.textFontVariant,"font-weight":i.textFontWeight}});o(s).append(c)}if(void 0!=l){var p=o("<div>",{class:"description",text:l,css:{color:i.descriptionFontColor,"font-family":i.descriptionFontFamily,"font-size":i.descriptionFontSize,"font-style":i.descriptionFontStyle,"font-variant":i.descriptionFontVariant,"font-weight":i.descriptionFontWeight}});o(s).append(p),o(this).removeAttr("data-description")}o(t).append(s)}o.each(this.attributes,function(i,r){if("value"==r.name){var e=o("<input>",{class:"value",value:r.value,type:"hidden"});o(t).append(e),o(this).removeAttr(r.name)}else o(t).attr(r.name,r.value)});var h=o("<div>",{class:"-clear-both"});o(t).append(h),o(d).append(t)}),o(r).append(d),o(this).replaceWith(t),o(t).find(".current").click(function(){o(this).closest(".gorilla-dropdown").find(".ddlist").toggle();var t=o("<div/>").html(i.arrowDown).text(),r=o(this).closest(".gorilla-dropdown").find(".current .arrow").html()==t?i.arrowUp:i.arrowDown;o(this).closest(".gorilla-dropdown").find(".current .arrow").html(r);var e={indexOfLastDropdownClicked:o(".gorilla-dropdown").index(o(this).closest(".gorilla-dropdown"))};sessionStorage.setItem("gorilla-dropdown",JSON.stringify(e)),o(document).click(e,function(t){var r=o.parseJSON(sessionStorage.getItem("gorilla-dropdown"));0!=o(t.target).closest(".gorilla-dropdown").length&&r.indexOfLastDropdownClicked==t.data.indexOfLastDropdownClicked||(o(".gorilla-dropdown").eq(t.data.indexOfLastDropdownClicked).find(".current .arrow").html(i.arrowDown),o(".gorilla-dropdown").eq(t.data.indexOfLastDropdownClicked).find(".ddlist").hide(),o(this).unbind(t))})}),o(t).find(".dditem").click(function(){o(this).closest(".gorilla-dropdown").find(".current .content").remove();var t=o("<div>",{class:"content"});o(t).append(o(this).html()),o(this).closest(".gorilla-dropdown").find(".current").append(t),o(this).closest(".gorilla-dropdown").find(".current .arrow").html(i.arrowDown),o(this).closest(".gorilla-dropdown").find(".ddlist").hide(),o(this).addClass("selected").css("background-color",i.hoverColor).siblings().removeClass("selected").css("background-color",i.backgroundColor)}),o(t).find(".dditem").hover(function(){o(this).css("background-color",i.hoverColor)},function(){o(this).hasClass("selected")||o(this).css("background-color",i.backgroundColor)})})},selected:function(){var t=o(this).find(".selected"),i=o(this).find(".dditem").index(t),r={index:i};return i>=0&&(r.text=t.find(".text").html(),r.descriptoin=t.find(".description").html(),r.imgSrc=t.find(".image").attr("imgsrc"),r.value=t.find(".value").attr("value")),r}};o.fn.gorillaDropdown=function(o){return t[o]?t[o].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof o&&o?void 0:t.init.apply(this,arguments)}}(jQuery);