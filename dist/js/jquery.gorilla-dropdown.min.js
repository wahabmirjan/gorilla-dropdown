/**
 * gorilla-dropdown
 * Description - A jQuery plugin for custom drop-down list, allowing the display of text, images, and maybe more...
 * @version v0.3.0
 * @link https://github.com/wahabmirjan/gorilla-dropdown#readme
 * @license MIT
 */
!function(t){var o={init:function(o){var e=t.extend({arrowColor:"#808080",arrowDown:"&#x25bc;",arrowSize:"14px",arrowUp:"&#x25b2;",backgroundColor:"#ffffff",borderColor:"#c0c0c0",borderWidth:1,descriptionFontColor:"#000000",descriptionFontFamily:"Verdana",descriptionFontSize:"12px",descriptionFontStyle:"normal",descriptionFontVariant:"small-caps",descriptionFontWeight:"normal",displayArrow:"inline",dropdownHeight:"auto",hoverColor:"#f0f8ff",imageLocation:"left",onSelect:function(){},padding:10,placeholder:"Select",placeholderFontColor:"#808080",placeholderFontFamily:"Verdana",placeholderFontSize:"14px",placeholderFontStyle:"italic",placeholderFontVariant:"normal",placeholderFontWeight:"bold",select:-1,textFontColor:"#000000",textFontFamily:"Verdana",textFontSize:"14px",textFontStyle:"normal",textFontVariant:"normal",textFontWeight:"bold",width:300},o);if(this.is("select"))return this.each(function(){var o=t("<div>");t.each(this.attributes,function(e,i){t(o).attr(i.name,i.value)}),t(o).addClass("gorilla-dropdown"),t(o).data("gorilla-dropdown",e);var i=t("<div>",{class:"container",css:{width:e.width+"px"}});t(o).append(i);var r=t("<div>",{class:"current",css:{"background-color":e.backgroundColor,"border-color":e.borderColor,"border-width":e.borderWidth+"px",padding:e.padding+"px"}}),n=t("<div>",{class:"content",text:e.placeholder,css:{color:e.placeholderFontColor,"font-family":e.placeholderFontFamily,"font-size":e.placeholderFontSize,"font-style":e.placeholderFontStyle,"font-variant":e.placeholderFontVariant,"font-weight":e.placeholderFontWeight}});t(r).append(n);var d=t("<span>",{class:"arrow",css:{color:e.arrowColor,display:e.displayArrow,"font-size":e.arrowSize,position:"absolute",right:e.borderWidth+e.padding+"px",top:e.borderWidth+e.padding+"px"}});t(d).html(e.arrowDown),t(r).append(d),t(i).append(r);var a=t("<ul>",{class:"ddlist",css:{height:e.dropdownHeight}});if(t(this).find("option").each(function(){var o=t("<li>",{class:"dditem",css:{"background-color":e.backgroundColor,"border-color":e.borderColor,"border-width":e.borderWidth+"px",padding:e.padding+"px"}}),i=t(this).data("imgsrc");if(void 0!=i){var r=t("<div>",{css:{float:e.imageLocation,"margin-right":"left"==e.imageLocation?e.padding/2+"px":0,"margin-left":"right"==e.imageLocation?e.padding/2+"px":0}}),n=t("<img>",{class:"image",src:i});t(r).append(n),t(o).append(r),t(this).removeAttr("data-imgsrc")}var d=t(this).html().trim(),l=t(this).data("description");if(""!=d||void 0!=l){var s=t("<div>",{css:{float:"left","margin-left":"left"==e.imageLocation?e.padding/2+"px":0,"margin-right":"right"==e.imageLocation?e.padding/2+"px":0}});if(""!=d){var c=t("<div>",{class:"text",text:d,css:{color:e.textFontColor,"font-family":e.textFontFamily,"font-size":e.textFontSize,"font-style":e.textFontStyle,"font-variant":e.textFontVariant,"font-weight":e.textFontWeight}});t(s).append(c)}if(void 0!=l){var p=t("<div>",{class:"description",text:l,css:{color:e.descriptionFontColor,"font-family":e.descriptionFontFamily,"font-size":e.descriptionFontSize,"font-style":e.descriptionFontStyle,"font-variant":e.descriptionFontVariant,"font-weight":e.descriptionFontWeight}});t(s).append(p),t(this).removeAttr("data-description")}t(o).append(s)}t.each(this.attributes,function(e,i){if("value"==i.name){var r=t("<input>",{class:"value",value:i.value,type:"hidden"});t(o).append(r),t(this).removeAttr(i.name)}else t(o).attr(i.name,i.value)});var h=t("<div>",{class:"-clear-both"});t(o).append(h),t(a).append(o)}),t(i).append(a),e.select>=0||e.select<t(i).find(".ddlist .dditem").length){t(r).find(".content").remove();var l=t("<div>",{class:"content"});t(l).append(t(a).children(".dditem").eq(e.select).html()),t(r).append(l),t(a).children(".dditem").eq(e.select).addClass("selected").css("background-color",e.hoverColor).siblings().removeClass("selected").css("background-color",e.backgroundColor)}t(this).replaceWith(o),t(o).find(".current").click(function(){t(this).closest(".gorilla-dropdown").find(".ddlist").toggle();var o=t("<div/>").html(e.arrowDown).text(),i=t(this).closest(".gorilla-dropdown").find(".current .arrow").html()==o?e.arrowUp:e.arrowDown;t(this).closest(".gorilla-dropdown").find(".current .arrow").html(i);var r={indexOfLastDropdownClicked:t(".gorilla-dropdown").index(t(this).closest(".gorilla-dropdown"))};sessionStorage.setItem("gorilla-dropdown",JSON.stringify(r)),t(document).click(r,function(o){var i=t.parseJSON(sessionStorage.getItem("gorilla-dropdown"));0!=t(o.target).closest(".gorilla-dropdown").length&&i.indexOfLastDropdownClicked==o.data.indexOfLastDropdownClicked||(t(".gorilla-dropdown").eq(o.data.indexOfLastDropdownClicked).find(".current .arrow").html(e.arrowDown),t(".gorilla-dropdown").eq(o.data.indexOfLastDropdownClicked).find(".ddlist").hide(),t(this).unbind(o))})}),t(o).find(".dditem").click(function(){t(this).closest(".gorilla-dropdown").find(".current .content").remove();var o=t("<div>",{class:"content"});t(o).append(t(this).html()),t(this).closest(".gorilla-dropdown").find(".current").append(o),t(this).closest(".gorilla-dropdown").find(".current .arrow").html(e.arrowDown),t(this).closest(".gorilla-dropdown").find(".ddlist").hide(),t(this).addClass("selected").css("background-color",e.hoverColor).siblings().removeClass("selected").css("background-color",e.backgroundColor),"function"==typeof e.onSelect&&e.onSelect()}),t(o).find(".dditem").hover(function(){t(this).css("background-color",e.hoverColor)},function(){t(this).hasClass("selected")||t(this).css("background-color",e.backgroundColor)})})},select:function(o){var e;"index"in o?(e=o.index)<0?e=0:e>t(this).find(".ddlist .dditem").length&&(e=t(this).find(".ddlist .dditem").length-1):"value"in o&&(e=t(this).find(".ddlist .dditem :input.value[value='"+o.value+"']").closest(".dditem").index());var i=t(this).data("gorilla-dropdown");i.select=e,t(this).find(".current .content").remove();var r=t("<div>",{class:"content"});t(r).append(t(this).find(".ddlist .dditem").eq(i.select).html()),t(this).find(".current").append(r),t(this).find(".ddlist .dditem").eq(i.select).addClass("selected").css("background-color",i.hoverColor).siblings().removeClass("selected").css("background-color",i.backgroundColor),t(this).data("gorilla-dropdown",i)},selected:function(){var o=t(this).find(".selected"),e=t(this).find(".dditem").index(o),i={index:e};return e>=0&&(i.text=o.find(".text").html(),i.descriptoin=o.find(".description").html(),i.imgSrc=o.find(".image").attr("imgsrc"),i.value=o.find(".value").attr("value")),i}};t.fn.gorillaDropdown=function(t){return o[t]?o[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void 0:o.init.apply(this,arguments)}}(jQuery);